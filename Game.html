<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–≥–∞–¥–∞–π –ø–∞—Ä—ã!</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 20px;
            background: #f0f8ff;
        }
        .game-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px auto;
            max-width: 800px;
        }
        .words-column {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            width: 200px;
        }
        .word {
            margin: 10px;
            padding: 10px;
            background: #e3f2fd;
            border-radius: 5px;
            cursor: pointer;
            user-select: none;
            transition: all 0.3s;
        }
        .word.selected {
            background: #fff176;
        }
        .word.locked {
            background: #ffcc80;
            cursor: default;
        }
        .word.correct {
            background: #81c784;
        }
        .word.incorrect {
            background: #e57373;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px;
        }
        button:disabled {
            background: #cccccc;
            cursor: not-allowed;
        }
        #result {
            margin-top: 20px;
            font-size: 18px;
            min-height: 50px;
        }
        @media (max-width: 600px) {
            .game-container {
                flex-direction: column;
                align-items: center;
            }
            #nouns {
                order: 1;
            }
            #adjectives {
                order: 2;
            }
        }
    </style>
</head>
<body>
    <h1>üéÆ –£–≥–∞–¥–∞–π –ø–∞—Ä—ã! üéÆ</h1>
    <button id="generate-btn">–ù–æ–≤—ã–µ —Å–ª–æ–≤–∞</button>
    <button id="guess-btn" disabled>–£–≥–∞–¥—ã–≤–∞—Ç—å</button>
    <button id="check-btn" disabled>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
    
    <div class="game-container">
        <div class="words-column" id="nouns">
            <h2>–°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ</h2>
        </div>
        <div class="words-column" id="adjectives">
            <h2>–ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ</h2>
        </div>
    </div>
    
    <div id="result"></div>

    <script>
        // –ë–∞–∑—ã —Å–ª–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ ASCII —Å–∏–º–≤–æ–ª—ã –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏)
        const adjectives = [
            "–õ–µ—Ç–∞—é—â–∏–π", "–°–æ–Ω–Ω—ã–π", "–ó–æ–ª–æ—Ç–æ–π", "–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π", "–ì—Ä–æ–º–∫–∏–π",
            "–¢–∏—Ö–∏–π", "–ù–µ–≤–∏–¥–∏–º—ã–π", "–û—Å—Ç—Ä—ã–π", "–ü—É—à–∏—Å—Ç—ã–π", "–ì–æ—Ä—è—á–∏–π",
            "–õ–µ–¥—è–Ω–æ–π", "–ö—Ä–∏—á–∞—â–∏–π", "–í–æ–ª—à–µ–±–Ω—ã–π", "–Ø–¥–æ–≤–∏—Ç—ã–π", "–ì—Ä—É—Å—Ç–Ω—ã–π"
        ];
        
        const nouns = [
            "–î—Ä–∞–∫–æ–Ω", "–ó–æ–Ω—Ç", "–ö–Ω–∏–≥–∞", "–†–æ–±–æ—Ç", "–û–±–ª–∞–∫–æ",
            "–ö–æ—à–∫–∞", "–ú–æ—Å—Ç", "–ß–∞—Å—ã", "–®–∞—Ä", "–í–µ—Ç–µ—Ä",
            "–§–æ–Ω–∞—Ä—å", "–ö–ª—é—á", "–û–∫–µ–∞–Ω", "–ó–µ—Ä–∫–∞–ª–æ", "–°–Ω–µ–≥"
        ];

        // –¢–µ–∫—É—â–∏–µ —Å–ª–æ–≤–∞ –∏ —Å–≤—è–∑–∏
        let currentGame = {
            adjectives: [],
            nouns: [],
            originalPairs: [],
            guessedPairs: [],
            selectedNoun: null,
            isGuessingMode: false,
            usedAdjectives: new Set(),
            usedNouns: new Set()
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function initGame() {
            document.getElementById('adjectives').innerHTML = '<h2>–ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ</h2>';
            document.getElementById('nouns').innerHTML = '<h2>–°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ</h2>';
            document.getElementById('result').innerHTML = '';
            
            // –í—ã–±–æ—Ä 5 —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–ª–æ–≤
            currentGame.adjectives = getRandomWords(adjectives, 5);
            currentGame.nouns = getRandomWords(nouns, 5);
            
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤ –≤ –∫–æ–ª–æ–Ω–∫–∏
            currentGame.adjectives.forEach((word, i) => {
                const el = createWordElement(word, 'adj', i);
                document.getElementById('adjectives').appendChild(el);
            });
            
            currentGame.nouns.forEach((word, i) => {
                const el = createWordElement(word, 'noun', i);
                document.getElementById('nouns').appendChild(el);
            });
            
            // –°–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏–π
            currentGame.originalPairs = [];
            currentGame.guessedPairs = [];
            currentGame.selectedNoun = null;
            currentGame.isGuessingMode = false;
            currentGame.usedAdjectives = new Set();
            currentGame.usedNouns = new Set();
            
            document.getElementById('guess-btn').disabled = false;
            document.getElementById('check-btn').disabled = true;
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ —Å–ª–æ–≤–∞
        function createWordElement(word, type, index) {
            const el = document.createElement('div');
            el.className = 'word';
            el.textContent = word;
            el.dataset.type = type;
            el.dataset.index = index;
            
            el.addEventListener('click', () => handleWordClick(el, type, index));
            return el;
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –Ω–∞ —Å–ª–æ–≤–æ
        function handleWordClick(element, type, index) {
            if (element.classList.contains('locked')) return;
            
            if (currentGame.isGuessingMode) {
                handleGuessingClick(element, type, index);
            } else {
                handleCreationClick(element, type, index);
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –≤ —Ä–µ–∂–∏–º–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ä
        function handleCreationClick(element, type, index) {
            if (type === 'noun') {
                resetSelection();
                currentGame.selectedNoun = index;
                element.classList.add('selected');
            } else if (type === 'adj' && currentGame.selectedNoun !== null) {
                const nounElement = document.querySelector(
                    `.word[data-type="noun"][data-index="${currentGame.selectedNoun}"]`
                );
                
                currentGame.originalPairs.push({
                    noun: currentGame.selectedNoun,
                    adjective: index
                });
                
                element.classList.add('locked');
                nounElement.classList.add('locked');
                currentGame.selectedNoun = null;
                
                if (currentGame.originalPairs.length === 5) {
                    document.getElementById('guess-btn').disabled = false;
                }
            }
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –≤ —Ä–µ–∂–∏–º–µ —É–≥–∞–¥—ã–≤–∞–Ω–∏—è
        function handleGuessingClick(element, type, index) {
            if (type === 'noun' && !currentGame.usedNouns.has(index)) {
                resetSelection();
                currentGame.selectedNoun = index;
                element.classList.add('selected');
            } else if (type === 'adj' && currentGame.selectedNoun !== null && 
                      !currentGame.usedAdjectives.has(index)) {
                currentGame.usedNouns.add(currentGame.selectedNoun);
                currentGame.usedAdjectives.add(index);
                
                const nounElement = document.querySelector(
                    `.word[data-type="noun"][data-index="${currentGame.selectedNoun}"]`
                );
                
                currentGame.guessedPairs.push({
                    noun: currentGame.selectedNoun,
                    adjective: index
                });
                
                element.classList.add('locked');
                nounElement.classList.add('locked');
                currentGame.selectedNoun = null;
                
                if (currentGame.guessedPairs.length === 5) {
                    document.getElementById('check-btn').disabled = false;
                }
            }
        }

        // –í–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ —É–≥–∞–¥—ã–≤–∞–Ω–∏—è
        function startGuessing() {
            currentGame.isGuessingMode = true;
            currentGame.guessedPairs = [];
            currentGame.selectedNoun = null;
            currentGame.usedAdjectives = new Set();
            currentGame.usedNouns = new Set();
            
            // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –≤—Å–µ —Å–ª–æ–≤–∞
            document.querySelectorAll('.word').forEach(el => {
                el.classList.remove('locked', 'selected', 'correct', 'incorrect');
            });
            
            document.getElementById('guess-btn').disabled = true;
            document.getElementById('check-btn').disabled = true;
            document.getElementById('result').innerHTML = '–£–≥–∞–¥–∞–π—Ç–µ 5 –ø–∞—Ä!';
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
        function checkPairs() {
            let correctCount = 0;
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—Å–µ —Ü–≤–µ—Ç–∞
            document.querySelectorAll('.word').forEach(el => {
                el.classList.remove('correct', 'incorrect');
            });
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—É—é —É–≥–∞–¥–∞–Ω–Ω—É—é –ø–∞—Ä—É
            currentGame.guessedPairs.forEach(guessed => {
                const isCorrect = currentGame.originalPairs.some(original => 
                    original.noun === guessed.noun && original.adjective === guessed.adjective
                );
                
                const adjElement = document.querySelector(
                    `.word[data-type="adj"][data-index="${guessed.adjective}"]`
                );
                const nounElement = document.querySelector(
                    `.word[data-type="noun"][data-index="${guessed.noun}"]`
                );
                
                if (isCorrect) {
                    adjElement.classList.add('correct');
                    nounElement.classList.add('correct');
                    correctCount++;
                } else {
                    adjElement.classList.add('incorrect');
                    nounElement.classList.add('incorrect');
                }
            });
            
            document.getElementById('result').innerHTML = `–£–≥–∞–¥–∞–Ω–æ: ${correctCount} –∏–∑ 5`;
            document.getElementById('check-btn').disabled = true;
        }

        // –°–±—Ä–æ—Å –≤—ã–¥–µ–ª–µ–Ω–∏—è
        function resetSelection() {
            document.querySelectorAll('.word.selected').forEach(el => {
                el.classList.remove('selected');
            });
        }

        // –í—ã–±–æ—Ä N —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–ª–æ–≤
        function getRandomWords(array, count) {
            const shuffled = [...array].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π
        document.getElementById('generate-btn').addEventListener('click', initGame);
        document.getElementById('guess-btn').addEventListener('click', startGuessing);
        document.getElementById('check-btn').addEventListener('click', checkPairs);

        // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('DOMContentLoaded', initGame);
    </script>
</body>
</html>